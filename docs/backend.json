{
  "entities": {
    "User": {
      "title": "User",
      "type": "object",
      "description": "Represents a user of the application.",
      "properties": {
        "id": { "type": "string" },
        "nombre": { "type": "string" },
        "correo": { "type": "string", "format": "email" },
        "telefono": { "type": "string" },
        "fechaRegistro": { "type": "string", "format": "date-time" },
        "estado": { "type": "string", "enum": ["activo", "inactivo"] }
      },
      "required": ["id", "nombre", "correo", "telefono"]
    },
    "IndividualService": {
      "title": "Individual Service",
      "type": "object",
      "description": "Represents a single billable service for an event.",
      "properties": {
        "id": { "type": "string" },
        "categoria": { "type": "string" },
        "nombre": { "type": "string" },
        "descripcion": { "type": "string" },
        "precioUnitario": { "type": "number" },
        "tipoCobro": { "type": "string", "enum": ["unidad", "persona", "paquete"] }
      },
      "required": ["id", "categoria", "nombre", "precioUnitario", "tipoCobro"]
    },
    "Quote": {
      "title": "Quote",
      "type": "object",
      "description": "A quote generated by a user.",
      "properties": {
        "usuarioId": { "type": "string" },
        "cotizacionId": { "type": "string" },
        "total": { "type": "number" },
        "fechaCotizacion": { "type": "string", "format": "date-time" },
        "estado": { "type": "string" },
        "items": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "categoria": { "type": "string" },
              "nombre": { "type": "string" },
              "cantidad": { "type": "number" },
              "precioUnitario": { "type": "number" },
              "subtotal": { "type": "number" }
            }
          }
        }
      },
      "required": ["usuarioId", "total", "items"]
    },
    "Reservation": {
        "title": "Reservation",
        "type": "object",
        "description": "Represents a booked date in the agenda.",
        "properties": {
            "fecha": { "type": "string", "format": "date" },
            "horaInicio": { "type": "string", "format": "time" },
            "horaFin": { "type": "string", "format": "time" },
            "quoteId": { "type": "string" },
            "userId": { "type": "string" }
        },
        "required": ["fecha", "horaInicio", "horaFin", "quoteId", "userId"]
    }
  },
  "auth": {
    "providers": [
      "password"
    ]
  },
  "firestore": {
     "structure": [
      {
        "path": "/users/{userId}",
        "definition": {
          "entityName": "User",
          "schema": { "$ref": "#/entities/User" },
          "description": "Stores user profiles."
        }
      },
      {
        "path": "/users/{userId}/quotes/{quoteId}",
        "definition": {
            "entityName": "Quote",
            "schema": { "$ref": "#/entities/Quote" },
            "description": "Stores quotes generated by a specific user."
        }
      },
      {
        "path": "/cotizaciones/{quoteId}",
        "definition": {
          "entityName": "Quote",
          "schema": { "$ref": "#/entities/Quote" },
          "description": "Legacy quotes collection."
        }
      },
      {
        "path": "/seguimiento/{quoteId}",
        "definition": {
          "entityName": "Quote",
          "schema": { "$ref": "#/entities/Quote" },
          "description": "Legacy quote tracking collection."
        }
      },
      {
        "path": "/servicios_individuales/{serviceId}",
        "definition": {
            "entityName": "IndividualService",
            "schema": { "$ref": "#/entities/IndividualService" },
            "description": "Publicly readable list of all individual services offered."
        }
      },
      {
        "path": "/reservations/{reservationId}",
        "definition": {
            "entityName": "Reservation",
            "schema": { "$ref": "#/entities/Reservation" },
            "description": "Publicly readable event agenda to check for availability."
        }
      }
    ]
  }
}
